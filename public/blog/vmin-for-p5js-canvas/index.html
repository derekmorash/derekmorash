<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="author" content="Derek Morash">
<title>VMIN for p5js canvas</title>


<meta name="description" content="A CSS VMIN like function for sizing canvas elements.">



<meta property="og:site_name" content="" />
<meta property="og:locale" content="en_ca">
<meta property="og:title" content="VMIN for p5js canvas" />
<meta property="og:type" content="video.movie" />

<meta property="og:description" content="A CSS VMIN like function for sizing canvas elements." />

<meta property="og:url" content="https://derekmorash.com/blog/vmin-for-p5js-canvas/" />


  
<script>
  (function(){var docElement=document.documentElement;docElement.classList.replace('no-js','js');if(sessionStorage['noto-serif-400-normal-loaded']){document.documentElement.classList.add("noto-serif-loaded");}
if(sessionStorage['nunito-600-normal-loaded']){document.documentElement.classList.add("nunito-loaded");}})();
</script>





<script src="https://derekmorash.com/js/bundle.min.7016b41c5b556b2557da4ed5b71e6bdb39324aa409aa7c00382b84dca7706c63.js"></script>
  

<link href="https://fonts.googleapis.com/css?family=Noto+Serif|Nunito:600" rel="stylesheet">


<style>
       

  .noto,body{font-family:serif;font-weight:400}html.noto-serif-loaded .noto,html.noto-serif-loaded body{font-family:"noto serif",serif}.nunito,h1,h2,h3,h4,h5,h6{font-family:sans-serif;font-weight:600}html.nunito-loaded .nunito,html.nunito-loaded h1,html.nunito-loaded h2,html.nunito-loaded h3,html.nunito-loaded h4,html.nunito-loaded h5,html.nunito-loaded h6{font-family:nunito,sans-serif}/*!normalize.css v4.1.1 | MIT License | github.com/necolas/normalize.css*/html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}template,[hidden]{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}button,input,select,textarea{font:inherit;margin:0}button,select{text-transform:none}button,html [type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:0;margin:0;padding:0}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}html{box-sizing:border-box;font-size:16px;background:#fff}@media(min-width:900px){html{font-size:18px}}@media(min-width:1200px){html{font-size:20px}}*,*::before,*::after{box-sizing:border-box}body{font-size:1rem;font-style:normal;letter-spacing:.01em;line-height:1.5;background:#fff;color:#262626;overflow-x:hidden}p{margin:0 0 1.75rem}em{font-size:1rem;font-style:italic}strong{font-weight:400;font-style:normal;color:#000}a{color:#262626;text-decoration:underline;text-decoration-skip:objects;text-decoration-color:#62c08e;transition:color .5s}a:hover,a:hover:visited{color:#62c08e;transition:color .2s}h1,h2,h3,h4,h5,h6{margin:2.5em 0 .75rem;line-height:1.3;color:#000}h1{font-size:1.75rem}h2{font-size:1.5rem}h3{font-size:1.25rem}h4{font-size:1rem}h5{font-size:1rem}h6{font-size:1rem}h1+h2,h2+h3,h3+h4,h4+h5,h5+h6{margin-top:0}img{max-width:100%;height:auto}pre,code{font-family:courier new,Courier,monospace}pre{overflow:scroll}figure{margin:1rem 0}main{max-width:40rem;margin:0 auto;padding:1.5rem}.skip-to-content{position:absolute;top:-100rem;left:0;font-family:"noto serif",serif}.skip-to-content:focus{top:0}
</style>

  
  <link rel="stylesheet" href="https://derekmorash.com/sass/main.min.314744b9596c313d68ce94e40ed0ad4f5d912770a4a1b2fb76e7a75716745fcc.css" integrity=”sha256-MUdEuVlsMT1ozpTkDtCtT12RJ3CkobL7duenVxZ0X8w&#61;”>

  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-144113845-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-144113845-1');
  </script>
</head>

<body>
  <a href="#site-main" class="skip-to-content">Skip To Content</a>
  
  <header role="banner" class="site-header">
    <div class="site-header__inner">

      
      <p class="logo"><a href="/">Derek Morash</a></p>
      

      <nav role="navigation" id="site-navigation" class="site-header__nav">
        <ul class="nav-list">
          
          
            <li class="nav-list__item">
              <a href="/blog/" class="nav-list__link">Blog</a>
            </li>
          
            <li class="nav-list__item">
              <a href="/generative/" class="nav-list__link">Generative</a>
            </li>
          
            <li class="nav-list__item">
              <a href="/about/" class="nav-list__link">About</a>
            </li>
          
        </ul>
      </nav>
    </div>
  </header>
 
<main id="site-main" class="site-main">
  <article role="main" class="blog-post">
    <header class="blog-post__header">

      
        <p class="blog-post__categories">
          
            Creative Coding
          
        </p>
      

      <h1 class="blog-post__title">VMIN for p5js canvas</h1>

      <aside class="blog-post__metadata">
        
        <p class="blog-post__date">Posted on <time datetime="2017-10-13">October 13, 2017</time></p>
      </aside>
    </header>

    <section class="blog-post__content rte">
      
      

<p>I use a similar layout for a lot of my creative codepens and p5js sketches, as you can see in this <a href="https://codepen.io/collection/DLRWGY/">collection</a>. It&rsquo;s just a plain white screen with a canvas floating in the center. It&rsquo;s a tiny bit of CSS (and could probably be even less):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSS" data-lang="CSS"><span style="color:#f92672">html</span><span style="color:#f92672">,</span> <span style="color:#f92672">body</span> {
	<span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">flex</span>;
	<span style="color:#66d9ef">align-items</span>: <span style="color:#66d9ef">center</span>;
	<span style="color:#66d9ef">justify-content</span>: <span style="color:#66d9ef">center</span>;
	<span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">vw</span>;
	<span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">vh</span>;
	<span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span>;
}

<span style="color:#f92672">canvas</span> {
	<span style="color:#66d9ef">box-shadow</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">3</span><span style="color:#66d9ef">em</span> <span style="color:#ae81ff">-1</span><span style="color:#66d9ef">em</span> rgba(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.6</span>);
}</code></pre></div>
<p>The canvas gets set to be a square the size of 80% of the viewports smallest width, this way it always fits inside the screen. If the canvas was a div or any other kind of HTML element we could just set it&rsquo;s width and height css properties to be <code>80vmin</code> and call it a day, but that&rsquo;s not how canvas works.</p>

<p><a href="https://css-tricks.com/simple-little-use-case-vmin/">Simple Little Use Case for vmin</a></p>

<p><a href="https://css-tricks.com/fun-viewport-units/">More on CSS viewport units</a></p>

<h2 id="the-problem">The Problem</h2>

<p>A canvas element needs to be given an exact size in pixels, using CSS to set the size will only stretch the canvas but not add the pixels it needs to fill the given dimensions. Canvas is a lot like an image, you might have an image that is 500x500px and with CSS you can tell it to be 1000x1000px, but that won&rsquo;t change the resolution of the image, it will only stretch it.</p>

<p>So we need to use a bit of Javascript to determine the exact number of pixels we want our canvas to be. We&rsquo;ll need three things; the width of the viewport, the height of the viewport, and the percentage we want to us (80%). Viewport sizes can be found relatively easily in in libraries like jquery or p5js and even in plain vanilla Javascript:</p>

<ul>
<li>JQUERY: <code>$(window).width()</code> or <code>$(window).height()</code></li>
<li>P5JS: <code>windowWidth</code> or <code>windowHeight</code></li>
<li>Javascript: <code>window.innerWidth</code> or <code>window.innerHeight</code></li>
</ul>

<h2 id="how-to-get-vmin-in-js">How to get vmin in js</h2>

<p>The vmin equation has two simple steps:</p>

<ol>
<li>Determine which viewport dimension is the smallest</li>
<li>Multiply the percentage by the smallest viewport size</li>
</ol>

<p>The function has an argument called <code>viewportPercent</code>, this is where we&rsquo;ll pass <code>80</code>. We then divide that by 100 to get a decimal of the percentage we want, <code>0.8</code>. Next we set a variable called <code>viewportMinSize</code>, this is set using the <code>Math.min</code> function. Math.min takes two or more arguments and returns the smallest of the set, we&rsquo;ll pass it the viewport width and height. The last thing we need to do is multiply the given percentage, <code>viewportPercent</code>, by the smallest viewport unit, <code>viewportMinSize</code>, and return the value.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JAVASCRIPT" data-lang="JAVASCRIPT"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">vmin</span>(<span style="color:#a6e22e">viewportPercent</span>) {
	<span style="color:#a6e22e">viewportPercent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">viewportPercent</span> <span style="color:#960050;background-color:#1e0010">/ 100</span>
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">viewportMinSize</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">min</span>(window.<span style="color:#a6e22e">innerWidth</span>, window.<span style="color:#a6e22e">innerHeight</span>);
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">viewportPercent</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">viewportMinSize</span>;
}
</code></pre></div>
<p>Now we can call this function like this: <code>var canvasWidth = vmin(80)</code>.</p>

    </section>
  </article>
</main>
 
<footer class="site-footer">
  <div class="site-footer__inner">
    <nav class="social-nav">
      <ul class="social-nav__list">
        <li class="social-nav__item">
          <a href="https://www.instagram.com/gammastop/" class="social-nav__link">Instagram</a>
        </li>
        <li class="social-nav__item">
          <a href="https://twitter.com/derek_morash" class="social-nav__link">Twitter</a>
        </li>
        <li class="social-nav__item">
          <a href="https://codepen.io/derekmorash/" class="social-nav__link">Codepen</a>
        </li>
      </ul>
    </nav>

    <small>&copy; 2019 Derek Morash</small>
  </div>
</footer>
</body>
</html>